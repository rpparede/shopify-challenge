[{"C:\\Users\\rppar\\projects\\shopify-challenge-2\\client\\src\\index.js":"1","C:\\Users\\rppar\\projects\\shopify-challenge-2\\client\\src\\App.js":"2","C:\\Users\\rppar\\projects\\shopify-challenge-2\\client\\src\\reportWebVitals.js":"3","C:\\Users\\rppar\\projects\\shopify-challenge-2\\client\\src\\services\\auth.service.js":"4","C:\\Users\\rppar\\projects\\shopify-challenge-2\\client\\src\\components\\home.component.js":"5","C:\\Users\\rppar\\projects\\shopify-challenge-2\\client\\src\\components\\register.component.js":"6","C:\\Users\\rppar\\projects\\shopify-challenge-2\\client\\src\\components\\login.component.js":"7","C:\\Users\\rppar\\projects\\shopify-challenge-2\\client\\src\\components\\board-admin.component.js":"8","C:\\Users\\rppar\\projects\\shopify-challenge-2\\client\\src\\components\\profile.component.js":"9","C:\\Users\\rppar\\projects\\shopify-challenge-2\\client\\src\\components\\board-user.component.js":"10","C:\\Users\\rppar\\projects\\shopify-challenge-2\\client\\src\\components\\board-moderator.component.js":"11","C:\\Users\\rppar\\projects\\shopify-challenge-2\\client\\src\\services\\user.service.js":"12","C:\\Users\\rppar\\projects\\shopify-challenge-2\\client\\src\\services\\auth-header.js":"13","C:\\Users\\rppar\\projects\\shopify-challenge-2\\client\\src\\components\\create-post.component.js":"14"},{"size":500,"mtime":499162500000,"results":"15","hashOfConfig":"16"},{"size":4586,"mtime":1610704414892,"results":"17","hashOfConfig":"16"},{"size":362,"mtime":499162500000,"results":"18","hashOfConfig":"16"},{"size":895,"mtime":1610527578459,"results":"19","hashOfConfig":"16"},{"size":1300,"mtime":1610712900354,"results":"20","hashOfConfig":"16"},{"size":7220,"mtime":1610527820553,"results":"21","hashOfConfig":"16"},{"size":5231,"mtime":1610703809891,"results":"22","hashOfConfig":"16"},{"size":0,"mtime":1610527869436,"results":"23","hashOfConfig":"16"},{"size":1400,"mtime":1610527833003,"results":"24","hashOfConfig":"16"},{"size":1880,"mtime":1610788357513,"results":"25","hashOfConfig":"16"},{"size":0,"mtime":1610527863405,"results":"26","hashOfConfig":"16"},{"size":876,"mtime":1610788383954,"results":"27","hashOfConfig":"16"},{"size":237,"mtime":1610527651186,"results":"28","hashOfConfig":"16"},{"size":4884,"mtime":1610704727153,"results":"29","hashOfConfig":"16"},{"filePath":"30","messages":"31","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"32"},"ad333b",{"filePath":"33","messages":"34","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"35","usedDeprecatedRules":"32"},{"filePath":"36","messages":"37","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"32"},{"filePath":"38","messages":"39","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"32"},{"filePath":"40","messages":"41","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"32"},{"filePath":"42","messages":"43","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"32"},{"filePath":"44","messages":"45","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"32"},{"filePath":"46","messages":"47","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"32"},{"filePath":"48","messages":"49","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"32"},{"filePath":"50","messages":"51","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"52","messages":"53","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"32"},{"filePath":"54","messages":"55","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"56","messages":"57","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"32"},{"filePath":"58","messages":"59","errorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":"60","usedDeprecatedRules":"32"},"C:\\Users\\rppar\\projects\\shopify-challenge-2\\client\\src\\index.js",[],["61","62"],"C:\\Users\\rppar\\projects\\shopify-challenge-2\\client\\src\\App.js",["63"],"import React, { Component } from \"react\";\nimport { Switch, Route, Link, BrowserRouter } from \"react-router-dom\";\n\nimport \"bootstrap/dist/css/bootstrap.min.css\";\nimport \"./App.css\";\n\nimport AuthService from \"./services/auth.service\";\n\nimport Login from \"./components/login.component\";\nimport Register from \"./components/register.component\";\nimport Home from \"./components/home.component\";\nimport NewPost from \"./components/create-post.component\";//\"./components/NewPost\";\nimport Profile from \"./components/profile.component\";\nimport BoardUser from \"./components/board-user.component\";\nimport BoardModerator from \"./components/board-moderator.component\";\nimport BoardAdmin from \"./components/board-admin.component\";\n\nclass App extends Component {\n  constructor(props) {\n    super(props);\n    this.logOut = this.logOut.bind(this);\n\n    this.state = {\n      showModeratorBoard: false,\n      showAdminBoard: false,\n      showNewPost: false,\n      showMyPost: false,\n      currentUser: undefined,\n    };\n  }\n\n  componentDidMount() {\n    const user = AuthService.getCurrentUser();\n\n    if (user) {\n      this.setState({\n        currentUser: user,\n        showNewPost: true,\n        showMyPost: true,\n        showModeratorBoard: user.roles.includes(\"ROLE_MODERATOR\"),\n        showAdminBoard: user.roles.includes(\"ROLE_ADMIN\"),\n      });\n    }\n  }\n\n  logOut() {\n    AuthService.logout();\n  }\n\n  render() {\n    const { currentUser, showModeratorBoard, showAdminBoard, showNewPost, showMyPost } = this.state;\n\n    return (\n      <BrowserRouter>\n        <div>\n          <nav className=\"navbar navbar-expand navbar-dark bg-dark\">\n            <Link to={\"/\"} className=\"navbar-brand\">\n              LocalStock\n          </Link>\n            <div className=\"navbar-nav mr-auto\">\n              <li className=\"nav-item\">\n                <Link to={\"/home\"} className=\"nav-link\">\n                  Home\n              </Link>\n              </li>\n              {showNewPost && (<li className=\"nav-item\">\n                <Link to={\"/newPost\"} className=\"nav-link\">\n                  New Post\n              </Link>\n              </li>)}\n\n              {showModeratorBoard && (\n                <li className=\"nav-item\">\n                  <Link to={\"/mod\"} className=\"nav-link\">\n                    Moderator Board\n                </Link>\n                </li>\n              )}\n\n              {showAdminBoard && (\n                <li className=\"nav-item\">\n                  <Link to={\"/admin\"} className=\"nav-link\">\n                    Admin Board\n                </Link>\n                </li>\n              )}\n\n              {currentUser && (\n                <li className=\"nav-item\">\n                  <Link to={\"/user\"} className=\"nav-link\">\n                    My Photos\n                </Link>\n                </li>\n              )}\n            </div>\n\n            {currentUser ? (\n              <div className=\"navbar-nav ml-auto\">\n                <li className=\"nav-item\">\n                  <Link to={\"/profile\"} className=\"nav-link\">\n                    {currentUser.username}\n                  </Link>\n                </li>\n                <li className=\"nav-item\">\n                  <a href=\"/login\" className=\"nav-link\" onClick={this.logOut}>\n                    LogOut\n                </a>\n                </li>\n              </div>\n            ) : (\n                <div className=\"navbar-nav ml-auto\">\n                  <li className=\"nav-item\">\n                    <Link to={\"/login\"} className=\"nav-link\">\n                      Login\n                </Link>\n                  </li>\n\n                  <li className=\"nav-item\">\n                    <Link to={\"/register\"} className=\"nav-link\">\n                      Sign Up\n                </Link>\n                  </li>\n                </div>\n              )}\n          </nav>\n\n          <div className=\"container mt-3\">\n\n            <Switch>\n              <Route exact path={[\"/\", \"/home\"]} component={Home} />\n              <Route exact path=\"/login\" component={Login} />\n              <Route exact path=\"/register\" component={props => <Register />} />\n              <Route exact path=\"/profile\" component={props => <Profile />} />\n              <Route exact path=\"/newPost\" component={props => <NewPost />} />\n              <Route path=\"/user\" component={props => <BoardUser />} />\n              <Route path=\"/mod\" component={props => <BoardModerator />} />\n              <Route path=\"/admin\" component={props => <BoardAdmin />} />\n            </Switch>\n\n          </div>\n        </div>\n      </BrowserRouter>\n    );\n  }\n}\n\nexport default App;\n","C:\\Users\\rppar\\projects\\shopify-challenge-2\\client\\src\\reportWebVitals.js",[],"C:\\Users\\rppar\\projects\\shopify-challenge-2\\client\\src\\services\\auth.service.js",[],"C:\\Users\\rppar\\projects\\shopify-challenge-2\\client\\src\\components\\home.component.js",[],"C:\\Users\\rppar\\projects\\shopify-challenge-2\\client\\src\\components\\register.component.js",[],"C:\\Users\\rppar\\projects\\shopify-challenge-2\\client\\src\\components\\login.component.js",[],"C:\\Users\\rppar\\projects\\shopify-challenge-2\\client\\src\\components\\board-admin.component.js",[],"C:\\Users\\rppar\\projects\\shopify-challenge-2\\client\\src\\components\\profile.component.js",[],"C:\\Users\\rppar\\projects\\shopify-challenge-2\\client\\src\\components\\board-user.component.js",[],"C:\\Users\\rppar\\projects\\shopify-challenge-2\\client\\src\\components\\board-moderator.component.js",[],"C:\\Users\\rppar\\projects\\shopify-challenge-2\\client\\src\\services\\user.service.js",[],"C:\\Users\\rppar\\projects\\shopify-challenge-2\\client\\src\\services\\auth-header.js",[],"C:\\Users\\rppar\\projects\\shopify-challenge-2\\client\\src\\components\\create-post.component.js",["64","65","66"],"import React, { Component } from \"react\";\r\nimport Form from \"react-validation/build/form\";\r\nimport Input from \"react-validation/build/input\";\r\nimport CheckButton from \"react-validation/build/button\";\r\nimport authHeader from '../services/auth-header';\r\nimport axios from 'axios';\r\nimport UserService from \"../services/user.service\";\r\n\r\nconst required = value => {\r\n    if (!value) {\r\n        return (\r\n            <div className=\"alert alert-danger\" role=\"alert\">\r\n                This field is required!\r\n            </div>\r\n        );\r\n    }\r\n};\r\n\r\nexport default class CreatePost extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.handleSubmit = this.handleSubmit.bind(this);\r\n        this.onChangeTitle = this.onChangeTitle.bind(this);\r\n        this.onChangeImage = this.onChangeImage.bind(this);\r\n\r\n        this.state = {\r\n            title: \"\",\r\n            image: null,\r\n            loading: false,\r\n            message: \"\"\r\n        };\r\n    }\r\n\r\n    onChangeTitle(e) {\r\n        this.setState({\r\n            title: e.target.value\r\n        });\r\n    }\r\n\r\n    onChangeImage(e) {\r\n        this.setState({\r\n            image: e.target.files[0]\r\n        });\r\n    }\r\n\r\n    handleSubmit(e) {\r\n        e.preventDefault();\r\n\r\n        this.setState({\r\n            message: \"\",\r\n            loading: true\r\n        });\r\n\r\n        this.form.validateAll();\r\n\r\n\r\n        const formData = new FormData();\r\n\r\n        formData.append('picture', this.state.image);\r\n        formData.append('title', this.state.title);\r\n        const config = {\r\n            headers: {\r\n                'content-type': 'multipart/form-data'\r\n            }\r\n        };\r\n\r\n        UserService.createPost(formData, config).then(\r\n\r\n            (res) => {\r\n                console.log(res)\r\n                this.setState({\r\n                    loading: false,\r\n                    message: \"Success\"\r\n                });\r\n                //this.props.history.push(\"/home\");\r\n                //window.location.reload();\r\n            },\r\n            error => {\r\n                const resMessage =\r\n                    (error.response &&\r\n                        error.response.data &&\r\n                        error.response.data.message) ||\r\n                    error.message ||\r\n                    error.toString();\r\n\r\n                this.setState({\r\n                    loading: false,\r\n                    message: resMessage\r\n                });\r\n            }\r\n        );\r\n\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <div className=\"col-md-12\">\r\n                <div className=\"card card-container\">\r\n                    <Form\r\n                        onSubmit={this.handleSubmit}\r\n                        ref={c => {\r\n                            this.form = c;\r\n                        }}\r\n                    >\r\n                        <div className=\"form-group\">\r\n                            <label htmlFor=\"title\">Title</label>\r\n                            <Input\r\n                                type=\"text\"\r\n                                className=\"form-control\"\r\n                                name=\"title\"\r\n                                value={this.state.title}\r\n                                onChange={this.onChangeTitle}\r\n                                validations={[required]}\r\n                            />\r\n                        </div>\r\n\r\n                        <div className=\"form-group\">\r\n                            <label htmlFor=\"image\">Image</label>\r\n                            <Input\r\n                                type=\"file\"\r\n                                className=\"form-control\"\r\n                                name=\"image\"\r\n                                onChange={this.onChangeImage}\r\n                                validations={[required]}\r\n                            />\r\n                        </div>\r\n                        <div className=\"form-group\">\r\n                            <button\r\n                                className=\"btn btn-primary btn-block\"\r\n                                disabled={this.state.loading}\r\n                            >\r\n                                {this.state.loading && (\r\n                                    <span className=\"spinner-border spinner-border-sm\"></span>\r\n                                )}\r\n                                <span>Post</span>\r\n                            </button>\r\n                        </div>\r\n                        {this.state.message && (\r\n                            <div className=\"form-group\">\r\n                                <div className=\"alert alert-danger\" role=\"alert\">\r\n                                    {this.state.message}\r\n                                </div>\r\n                            </div>\r\n                        )}\r\n\r\n                    </Form>\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n}",{"ruleId":"67","replacedBy":"68"},{"ruleId":"69","replacedBy":"70"},{"ruleId":"71","severity":1,"message":"72","line":51,"column":75,"nodeType":"73","messageId":"74","endLine":51,"endColumn":85},{"ruleId":"71","severity":1,"message":"75","line":4,"column":8,"nodeType":"73","messageId":"74","endLine":4,"endColumn":19},{"ruleId":"71","severity":1,"message":"76","line":5,"column":8,"nodeType":"73","messageId":"74","endLine":5,"endColumn":18},{"ruleId":"71","severity":1,"message":"77","line":6,"column":8,"nodeType":"73","messageId":"74","endLine":6,"endColumn":13},"no-native-reassign",["78"],"no-negated-in-lhs",["79"],"no-unused-vars","'showMyPost' is assigned a value but never used.","Identifier","unusedVar","'CheckButton' is defined but never used.","'authHeader' is defined but never used.","'axios' is defined but never used.","no-global-assign","no-unsafe-negation"]